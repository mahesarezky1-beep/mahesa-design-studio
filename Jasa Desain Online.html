<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mahesa Design Studio — Final (Aligned WA)</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:"Poppins",sans-serif;background:#f4f4f4;color:#222;line-height:1.45}
    header{background:#111;color:#fff;padding:14px 18px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:60}
    header h1{font-family:"Montserrat",sans-serif;font-size:18px}
    nav ul{display:flex;gap:14px;list-style:none}
    nav a{color:#fff;text-decoration:none;font-weight:600;font-size:13px}
    .hero{height:50vh;background:url("https://i.pinimg.com/736x/0e/1b/59/0e1b59007caaa312d5f634aa42e06313.jpg") center/cover no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;color:#fff;padding:0 12px}
    .hero h2{font-size:30px;text-shadow:2px 2px 8px rgba(0,0,0,0.6)}
    .btn-primary{background:#25D366;color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:700}
    .section{padding:34px 12px}
    .section h2{text-align:center;font-family:"Montserrat",sans-serif;margin-bottom:16px;font-size:20px}
    .categories{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:14px;max-width:1100px;margin:0 auto}
    .category{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 6px 22px rgba(12,12,12,0.06);cursor:pointer;transition:transform .22s,box-shadow .22s;display:flex;flex-direction:column}
    .category:hover{transform:translateY(-6px);box-shadow:0 14px 40px rgba(12,12,12,0.08)}
    .category img{width:100%;height:130px;object-fit:cover;display:block}
    .category h3{text-align:center;padding:10px 8px;font-weight:700}
    .order-wrap{max-width:760px;margin:14px auto;background:#fff;padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(12,12,12,0.05)}
    .order-wrap label{display:block;margin-bottom:8px;font-weight:600}
    .order-wrap input,.order-wrap select,.order-wrap textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:12px;font-size:14px}
    .order-wrap button{width:100%;padding:12px;border-radius:8px;border:0;background:#25D366;color:#fff;font-weight:700;cursor:pointer}
    .note{font-size:13px;color:#666;margin-top:-8px;margin-bottom:10px}
    footer{background:#111;color:#fff;padding:16px;text-align:center;margin-top:18px}
    footer a{color:#25D366;text-decoration:none}
    .popup-overlay{display:none;position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,0.65);align-items:center;justify-content:center;padding:12px}
    .popup-overlay.open{display:flex}
    .popup-box{background:#fff;border-radius:10px;max-width:900px;width:100%;max-height:90vh;overflow:auto;padding:12px;box-shadow:0 16px 48px rgba(0,0,0,0.25)}
    .popup-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
    .popup-close{background:#eee;border:0;padding:8px 10px;border-radius:8px;cursor:pointer}
    .popup-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}
    .popup-item{background:#fafafa;border-radius:8px;padding:8px;text-align:center;border:1px solid #eee}
    .popup-item img{width:100%;height:100px;object-fit:cover;border-radius:6px;margin-bottom:8px;display:block}
    .popup-item p{font-weight:600;font-size:13px;color:#222}
    .lightbox{display:none;position:fixed;inset:0;z-index:1200;background:rgba(0,0,0,0.85);align-items:center;justify-content:center;padding:12px}
    .lightbox.open{display:flex}
    .lightbox img{max-width:95%;max-height:90vh;border-radius:8px;box-shadow:0 8px 40px rgba(0,0,0,0.7)}
    @media (max-width:600px){ .hero{height:44vh} .category img{height:110px} }
  </style>
</head>
<body>
  <header>
    <h1>Mahesa Design Studio</h1>
    <nav>
      <ul>
        <li><a href="#kategori">Kategori</a></li>
        <li><a href="#pesan">Pesan</a></li>
        <li><a href="#kontak">Kontak</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h2>Jasa Desain Profesional</h2>
      <p style="max-width:760px">Desain Logo, Poster, UI/UX, Banner — rapi, cepat, profesional.</p>
      <a class="btn-primary" href="#pesan">Pesan Sekarang</a>
    </section>

    <section id="kategori" class="section">
      <h2>Kategori Desain</h2>
      <div class="categories" id="categoriesGrid">
        <div class="category" data-popup="popupLogo" role="button" tabindex="0">
          <img src="https://i.pinimg.com/736x/6d/d9/d3/6dd9d30cfda569583a9f5458e614678f.jpg" alt="Logo">
          <h3>Logo</h3>
        </div>
        <div class="category" data-popup="popupPoster" role="button" tabindex="0">
          <img src="https://i.pinimg.com/736x/00/ac/ef/00acefa25971025f8e900e39fcac1ff7.jpg" alt="Poster">
          <h3>Poster</h3>
        </div>
        <div class="category" data-popup="popupUI" role="button" tabindex="0">
          <img src="https://i.pinimg.com/736x/85/2f/71/852f71e4dd7e11ce24ac634e8c1656d0.jpg" alt="UI/UX">
          <h3>UI/UX</h3>
        </div>
        <div class="category" data-popup="popupBanner" role="button" tabindex="0">
          <img src="https://i.pinimg.com/736x/ef/91/48/ef9148418876e963b6e3e34d4f462537.jpg" alt="Banner">
          <h3>Banner</h3>
        </div>
      </div>
    </section>

    <section id="pesan" class="section">
      <h2>Form Pemesanan</h2>
      <div class="order-wrap">
        <form id="orderForm" autocomplete="off">
          <label for="nama">Nama Lengkap</label>
          <input id="nama" name="nama" type="text" placeholder="Masukkan nama Anda" required>

          <label for="wa">Nomor WhatsApp</label>
          <input id="wa" name="wa" type="tel" placeholder="Contoh: 081399660940" required>
          <div class="note">Masukkan nomor Anda. Sistem akan menyesuaikan format jika perlu.</div>

          <label for="kategoriSelect">Kategori Desain</label>
          <select id="kategoriSelect" name="kategori" required>
            <option value="">-- Pilih Kategori --</option>
            <option value="Logo">Logo</option>
            <option value="Poster">Poster</option>
            <option value="UI/UX">UI/UX</option>
            <option value="Banner">Banner</option>
            <option value="Lain-Lain">Lain-Lain</option>
          </select>

          <label for="deskripsi">Deskripsi Pesanan</label>
          <textarea id="deskripsi" name="deskripsi" rows="5" placeholder="Tuliskan detail kebutuhan Anda..." required></textarea>

          <button type="submit" id="submitBtn">Kirim via WhatsApp</button>
        </form>
      </div>
    </section>
  </main>

  <footer id="kontak">
    <p>&copy; 2025 Mahesa Design Studio — Hubungi: <a href="https://wa.me/6281399660940" target="_blank" rel="noopener">+62 813-9966-0940</a></p>
  </footer>

  <!-- POPUPS -->
  <div class="popup-overlay" id="popupLogo" aria-hidden="true">
    <div class="popup-box" role="dialog" aria-modal="true" aria-labelledby="logoTitle">
      <div class="popup-head">
        <h3 id="logoTitle">Contoh Desain — Logo</h3>
        <button class="popup-close" data-close="popupLogo" aria-label="Tutup">Tutup ✕</button>
      </div>
      <div class="popup-grid">
        <div class="popup-item"><img src="https://i.pinimg.com/736x/f3/1e/77/f31e7768c93f21a9dce29963d0a3bfa1.jpg" alt=""><p>Logo Minimalis</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/72/bf/52/72bf52c8f9a3af4cf9ec3c92fdfc6340.jpg" alt=""><p>Logo Mascot</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/34/4c/5a/344c5a33458a1e9ab8b8c6ddc4dbca7d.jpg" alt=""><p>Logo Typography</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/7b/c0/12/7bc012fc6c620207546b9f9cf8266fa2.jpg" alt=""><p>Logo Vintage</p></div>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="popupPoster" aria-hidden="true">
    <div class="popup-box" role="dialog" aria-modal="true" aria-labelledby="posterTitle">
      <div class="popup-head">
        <h3 id="posterTitle">Contoh Desain — Poster</h3>
        <button class="popup-close" data-close="popupPoster" aria-label="Tutup">Tutup ✕</button>
      </div>
      <div class="popup-grid">
        <div class="popup-item"><img src="https://i.pinimg.com/736x/03/cf/22/03cf2259eaa2f9c29a1a4f338f3fba20.jpg" alt=""><p>Poster Event</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/20/d1/48/20d148d45b807ac6a7df933dff0cdca8.jpg" alt=""><p>Poster Music</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/55/5a/dc/555adc5a0a5df40b54dbfa9320e2cb72.jpg" alt=""><p>Poster Promo</p></div>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="popupUI" aria-hidden="true">
    <div class="popup-box" role="dialog" aria-modal="true" aria-labelledby="uiTitle">
      <div class="popup-head">
        <h3 id="uiTitle">Contoh Desain — UI/UX</h3>
        <button class="popup-close" data-close="popupUI" aria-label="Tutup">Tutup ✕</button>
      </div>
      <div class="popup-grid">
        <div class="popup-item"><img src="https://i.pinimg.com/736x/fd/fd/aa/fdfdaae7e2dca7906b6c812f78174c8c.jpg" alt=""><p>App Interface</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/03/b4/22/03b422fc6f99bb2c7f7c413e90ef0b39.jpg" alt=""><p>Website UI</p></div>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="popupBanner" aria-hidden="true">
    <div class="popup-box" role="dialog" aria-modal="true" aria-labelledby="bannerTitle">
      <div class="popup-head">
        <h3 id="bannerTitle">Contoh Desain — Banner</h3>
        <button class="popup-close" data-close="popupBanner" aria-label="Tutup">Tutup ✕</button>
      </div>
      <div class="popup-grid">
        <div class="popup-item"><img src="https://i.pinimg.com/736x/f4/45/ed/f445ed5a4b5e2c0f9c8fbb2cfb8e15ed.jpg" alt=""><p>Banner Event</p></div>
        <div class="popup-item"><img src="https://i.pinimg.com/736x/b9/c4/e4/b9c4e46a59a02df632f3b0e5f7a2b9de.jpg" alt=""><p>Banner Promo</p></div>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true"><img id="lightboxImg" src="" alt="Preview"></div>

  <script>
  (function(){
    'use strict';
    document.addEventListener('DOMContentLoaded', function(){
      const $ = (s, ctx=document) => ctx.querySelector(s);
      const $$ = (s, ctx=document) => Array.from(ctx.querySelectorAll(s));

      // Popup open/close
      $$('.category').forEach(card=>{
        card.addEventListener('click', ()=> openPopup(card.dataset.popup));
        card.addEventListener('keydown', e=> { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); card.click(); }});
      });

      function openPopup(id){
        if(!id) return;
        const overlay = document.getElementById(id);
        if(!overlay) return;
        overlay.classList.add('open'); overlay.setAttribute('aria-hidden','false');
        const btn = overlay.querySelector('.popup-close'); if(btn) btn.focus();
      }
      $$('.popup-close').forEach(btn=> btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-close'); const el = document.getElementById(id);
        if(el){ el.classList.remove('open'); el.setAttribute('aria-hidden','true'); }
      }));
      $$('.popup-overlay').forEach(overlay=> overlay.addEventListener('click', function(e){ if(e.target===overlay){ overlay.classList.remove('open'); overlay.setAttribute('aria-hidden','true'); }}));

      // Lightbox
      $$('.popup-item img').forEach(img=>{
        img.style.cursor='zoom-in';
        img.addEventListener('click', function(){
          $('#lightboxImg').src = this.src; $('#lightbox').classList.add('open'); $('#lightbox').setAttribute('aria-hidden','false');
        });
      });
      $('#lightbox').addEventListener('click', function(e){
        if(e.target === this || e.target === $('#lightboxImg')){ this.classList.remove('open'); this.setAttribute('aria-hidden','true'); $('#lightboxImg').src=''; }
      });
      document.addEventListener('keydown', function(e){
        if(e.key==='Escape'){ $$('.popup-overlay.open').forEach(o=>{ o.classList.remove('open'); o.setAttribute('aria-hidden','true'); }); if($('#lightbox').classList.contains('open')){ $('#lightbox').classList.remove('open'); $('#lightbox').setAttribute('aria-hidden','true'); $('#lightboxImg').src=''; } }
      });

      // WhatsApp form (monospace block for alignment)
      const form = $('#orderForm'), submitBtn = $('#submitBtn');

      function formatPhoneToE164(input){
        if(!input) return '';
        let s = String(input).trim();
        s = s.replace(/\s+/g,'').replace(/[^+\d]/g,'');
        if(s.startsWith('+')) s = s.slice(1);
        if(s.startsWith('0')) s = '62'+s.slice(1);
        if(/^8\d{6,}$/.test(s)) s = '62'+s;
        return s;
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();
        submitBtn.disabled = true; submitBtn.textContent = 'Membuka WhatsApp...';

        const nama = ($('#nama').value || '').trim();
        const waRaw = ($('#wa').value || '').trim();
        const kategori = ($('#kategoriSelect').value || '').trim();
        const deskripsi = ($('#deskripsi').value || '').trim();

        if(!nama || !waRaw || !kategori || !deskripsi){
          alert('Mohon lengkapi semua field pada form pemesanan.');
          submitBtn.disabled = false; submitBtn.textContent = 'Kirim via WhatsApp';
          return;
        }

        const waE164 = formatPhoneToE164(waRaw);
        if(!/^\d{8,15}$/.test(waE164)){
          if(!confirm('Nomor WhatsApp tampak tidak standar. Lanjutkan?')){ submitBtn.disabled = false; submitBtn.textContent = 'Kirim via WhatsApp'; return; }
        }

        // pad labels so they align in monospace block
        const padLen = 12; // characters for label width
        function padLabel(lbl){ return lbl.padEnd(padLen, ' '); }

        const detailLines = [
          `${padLabel('Nama')} : ${nama}`,
          `${padLabel('WhatsApp')} : ${waRaw}${waE164 ? ' (+'+waE164+')' : ''}`,
          `${padLabel('Kategori')} : ${kategori}`,
          `${padLabel('Deskripsi')} : ${deskripsi}`
        ];

        // proses pengerjaan lines
        const proses = [
          'Proses Pengerjaan :',
          '- Brief & konfirmasi kebutuhan',
          '- Konsep (1-3 opsi tergantung paket)',
          '- Revisi standar (2x) — tambahan biaya jika lebih',
          '- Finalisasi & kirim file sesuai permintaan'
        ];

        // wrap details in triple backticks to force monospace in WhatsApp
        const detailsBlock = '```' + '\n' + detailLines.join('\n') + '\n' + '```';

        const messageParts = [
          'Halo Mahesa Design Studio,',
          '',
          'Saya ingin melakukan pemesanan desain. Berikut detail saya:',
          '',
          detailsBlock,
          '',
          proses.join('\n'),
          '',
          'Mohon konfirmasi harga & estimasi waktu pengerjaan.',
          'Terima kasih.'
        ];

        const fullMessage = messageParts.join('\n');

        const nomorStudio = '6281399660940';
        const url = `https://wa.me/${nomorStudio}?text=${encodeURIComponent(fullMessage)}`;

        window.open(url, '_blank');

        setTimeout(()=>{ submitBtn.disabled = false; submitBtn.textContent = 'Kirim via WhatsApp'; }, 700);
      });

    }); // DOMContentLoaded
  })();
  </script>
</body>
</html>
